# Architecture Design Template

## Purpose
Design comprehensive system architectures including distributed systems, APIs, databases, microservices, and enterprise solutions with scalability, security, and maintainability considerations.

## Template Structure

### System Overview
- **System Name**: {system_name}
- **System Purpose**: {system_purpose}
- **Business Domain**: {business_domain}
- **Target Users**: {target_users}
- **Expected Load**: {expected_load}
- **Geographic Distribution**: {geographic_distribution}
- **Regulatory Requirements**: {regulatory_requirements}
- **Budget Constraints**: {budget_constraints}
- **Timeline**: {timeline}
- **Success Metrics**: {success_metrics}

### Architecture Patterns
- **Primary Pattern**: {primary_pattern}
- **Secondary Patterns**: {secondary_patterns}
- **Design Principles**: {design_principles}
- **Architecture Style**: {architecture_style}
- **Communication Pattern**: {communication_pattern}
- **Data Flow Pattern**: {data_flow_pattern}
- **Integration Pattern**: {integration_pattern}
- **Deployment Pattern**: {deployment_pattern}
- **Security Pattern**: {security_pattern}
- **Resilience Pattern**: {resilience_pattern}

### System Components
- **Frontend Components**: {frontend_components}
- **Backend Services**: {backend_services}
- **Database Layer**: {database_layer}
- **Cache Layer**: {cache_layer}
- **Message Queue**: {message_queue}
- **API Gateway**: {api_gateway}
- **Load Balancer**: {load_balancer}
- **Service Mesh**: {service_mesh}
- **Monitoring System**: {monitoring_system}
- **Security Components**: {security_components}

### Technology Stack
- **Programming Languages**: {programming_languages}
- **Frontend Framework**: {frontend_framework}
- **Backend Framework**: {backend_framework}
- **Database Technology**: {database_technology}
- **Caching Solution**: {caching_solution}
- **Message Broker**: {message_broker}
- **Container Platform**: {container_platform}
- **Orchestration Tool**: {orchestration_tool}
- **Cloud Provider**: {cloud_provider}
- **Development Tools**: {development_tools}

### Scalability Design
- **Horizontal Scaling**: {horizontal_scaling}
- **Vertical Scaling**: {vertical_scaling}
- **Auto Scaling**: {auto_scaling}
- **Load Distribution**: {load_distribution}
- **Caching Strategy**: {caching_strategy}
- **Database Sharding**: {database_sharding}
- **CDN Strategy**: {cdn_strategy}
- **Resource Optimization**: {resource_optimization}
- **Performance Targets**: {performance_targets}
- **Capacity Planning**: {capacity_planning}

### Security Architecture
- **Authentication Method**: {authentication_method}
- **Authorization Model**: {authorization_model}
- **Data Encryption**: {data_encryption}
- **Network Security**: {network_security}
- **API Security**: {api_security}
- **Database Security**: {database_security}
- **Infrastructure Security**: {infrastructure_security}
- **Application Security**: {application_security}
- **Monitoring Security**: {monitoring_security}
- **Compliance Framework**: {compliance_framework}

### Data Architecture
- **Data Model**: {data_model}
- **Database Design**: {database_design}
- **Data Storage**: {data_storage}
- **Data Processing**: {data_processing}
- **Data Integration**: {data_integration}
- **Data Governance**: {data_governance}
- **Data Quality**: {data_quality}
- **Data Backup**: {data_backup}
- **Data Recovery**: {data_recovery}
- **Data Archival**: {data_archival}

### API Design
- **API Architecture**: {api_architecture}
- **API Protocol**: {api_protocol}
- **API Versioning**: {api_versioning}
- **API Documentation**: {api_documentation}
- **Rate Limiting**: {rate_limiting}
- **API Testing**: {api_testing}
- **API Monitoring**: {api_monitoring}
- **API Security**: {api_security_measures}
- **Error Handling**: {api_error_handling}
- **Response Format**: {api_response_format}

### Microservices Design
- **Service Boundaries**: {service_boundaries}
- **Service Communication**: {service_communication}
- **Service Discovery**: {service_discovery}
- **Circuit Breaker**: {circuit_breaker}
- **Service Mesh**: {service_mesh_implementation}
- **Event Sourcing**: {event_sourcing}
- **CQRS Pattern**: {cqrs_pattern}
- **Saga Pattern**: {saga_pattern}
- **Bulkhead Pattern**: {bulkhead_pattern}
- **Retry Logic**: {retry_logic}

### Infrastructure Design
- **Cloud Architecture**: {cloud_architecture}
- **Network Topology**: {network_topology}
- **Server Configuration**: {server_configuration}
- **Container Strategy**: {container_strategy}
- **Storage Architecture**: {storage_architecture}
- **Backup Strategy**: {backup_strategy}
- **Disaster Recovery**: {disaster_recovery}
- **High Availability**: {high_availability}
- **Fault Tolerance**: {fault_tolerance}
- **Resource Management**: {resource_management}

### Deployment Architecture
- **Deployment Strategy**: {deployment_strategy}
- **Environment Setup**: {environment_setup}
- **CI/CD Pipeline**: {cicd_pipeline_design}
- **Release Management**: {release_management}
- **Blue-Green Deployment**: {blue_green_deployment}
- **Canary Deployment**: {canary_deployment}
- **Rolling Updates**: {rolling_updates}
- **Rollback Strategy**: {rollback_strategy}
- **Configuration Management**: {configuration_management}
- **Secrets Management**: {secrets_management}

### Monitoring and Observability
- **Logging Strategy**: {logging_strategy}
- **Metrics Collection**: {metrics_collection}
- **Distributed Tracing**: {distributed_tracing}
- **Health Checks**: {health_checks}
- **Alerting System**: {alerting_system}
- **Dashboard Design**: {dashboard_design}
- **SLA Monitoring**: {sla_monitoring}
- **Performance Monitoring**: {performance_monitoring}
- **Error Tracking**: {error_tracking}
- **Business Metrics**: {business_metrics}

### Integration Architecture
- **External Integrations**: {external_integrations}
- **Third Party APIs**: {third_party_apis}
- **Data Synchronization**: {data_synchronization}
- **Event-Driven Architecture**: {event_driven_architecture}
- **Message Patterns**: {message_patterns}
- **Webhook Management**: {webhook_management}
- **File Transfer**: {file_transfer}
- **Real-time Communication**: {realtime_communication}
- **Batch Processing**: {batch_processing}
- **Stream Processing**: {stream_processing}

### Performance Optimization
- **Caching Layers**: {caching_layers}
- **Database Optimization**: {database_optimization}
- **Query Optimization**: {query_optimization}
- **Connection Pooling**: {connection_pooling}
- **Lazy Loading**: {lazy_loading}
- **Compression**: {compression}
- **Minification**: {minification}
- **Image Optimization**: {image_optimization}
- **Content Delivery**: {content_delivery}
- **Resource Bundling**: {resource_bundling}

### Quality Attributes
- **Availability**: {availability}
- **Reliability**: {reliability}
- **Scalability**: {scalability}
- **Performance**: {performance}
- **Security**: {security}
- **Maintainability**: {maintainability}
- **Testability**: {testability}
- **Usability**: {usability}
- **Portability**: {portability}
- **Interoperability**: {interoperability}

### Risk Management
- **Technical Risks**: {technical_risks}
- **Security Risks**: {security_risks}
- **Performance Risks**: {performance_risks}
- **Scalability Risks**: {scalability_risks}
- **Integration Risks**: {integration_risks}
- **Operational Risks**: {operational_risks}
- **Business Risks**: {business_risks}
- **Mitigation Strategies**: {mitigation_strategies}
- **Contingency Plans**: {contingency_plans}
- **Risk Monitoring**: {risk_monitoring}

### Documentation Requirements
- **Architecture Documentation**: {architecture_documentation}
- **Design Decisions**: {design_decisions}
- **Trade-off Analysis**: {tradeoff_analysis}
- **Implementation Guide**: {implementation_guide}
- **Deployment Guide**: {deployment_guide}
- **Operations Manual**: {operations_manual}
- **Troubleshooting Guide**: {troubleshooting_guide}
- **API Documentation**: {api_documentation_details}
- **Database Schema**: {database_schema}
- **Security Guidelines**: {security_guidelines}

### Testing Strategy
- **Unit Testing**: {unit_testing}
- **Integration Testing**: {integration_testing}
- **End-to-End Testing**: {end_to_end_testing}
- **Performance Testing**: {performance_testing}
- **Security Testing**: {security_testing}
- **Load Testing**: {load_testing}
- **Stress Testing**: {stress_testing}
- **Chaos Engineering**: {chaos_engineering}
- **A/B Testing**: {ab_testing}
- **Test Automation**: {test_automation}

### Migration Strategy
- **Migration Approach**: {migration_approach}
- **Legacy System**: {legacy_system}
- **Migration Timeline**: {migration_timeline}
- **Data Migration**: {data_migration}
- **Cutover Strategy**: {cutover_strategy}
- **Rollback Plan**: {rollback_plan}
- **Parallel Running**: {parallel_running}
- **User Training**: {user_training}
- **Change Management**: {change_management}
- **Success Criteria**: {success_criteria}

## Prompt Template

Design a {architecture_style} architecture for {system_name} that serves {target_users} with {expected_load} load requirements. The system should implement {primary_pattern} pattern and support {business_domain} domain.

**Core Architecture Requirements:**
- Implement {frontend_components} frontend using {frontend_framework}
- Design {backend_services} backend services with {backend_framework}
- Use {database_technology} for data persistence with {database_design}
- Integrate {message_broker} for {service_communication}
- Deploy on {cloud_provider} with {container_platform}

**Scalability and Performance:**
- Support {horizontal_scaling} and {auto_scaling}
- Implement {caching_strategy} with {caching_solution}
- Achieve {performance_targets} response times
- Handle {load_distribution} across multiple instances
- Use {cdn_strategy} for content delivery

**Security Implementation:**
- Implement {authentication_method} and {authorization_model}
- Use {data_encryption} for data protection
- Apply {network_security} and {api_security}
- Follow {compliance_framework} requirements
- Include {monitoring_security} measures

**Integration and Communication:**
- Design {api_architecture} APIs with {api_protocol}
- Implement {service_discovery} for microservices
- Use {event_driven_architecture} for loose coupling
- Handle {external_integrations} with {third_party_apis}
- Support {realtime_communication} where needed

**Reliability and Monitoring:**
- Implement {high_availability} with {fault_tolerance}
- Use {circuit_breaker} and {retry_logic} patterns
- Design {disaster_recovery} and {backup_strategy}
- Monitor with {distributed_tracing} and {metrics_collection}
- Set up {alerting_system} for {sla_monitoring}

**Deployment Strategy:**
- Use {deployment_strategy} with {cicd_pipeline_design}
- Implement {blue_green_deployment} or {canary_deployment}
- Manage configuration with {configuration_management}
- Handle secrets with {secrets_management}
- Support {rolling_updates} with {rollback_strategy}

**Quality Attributes:**
- Ensure {availability}% uptime and {reliability}
- Support {scalability} to handle growth
- Maintain {performance} under peak load
- Implement {security} best practices
- Design for {maintainability} and {testability}

Please provide detailed architecture diagrams, component specifications, technology recommendations, deployment plans, and risk mitigation strategies. Include trade-off analysis for major design decisions and compliance with {regulatory_requirements}.

## Usage Examples

### E-commerce Platform Architecture
```
Design a microservices architecture for ShopFlow e-commerce platform that serves 1M+ users with 10K concurrent load requirements. The system should implement event-driven pattern and support retail domain.

Core Architecture Requirements:
- Implement React SPA frontend using Next.js framework
- Design 8 backend services (user, product, order, payment, inventory, recommendation, notification, analytics) with Node.js/Express
- Use PostgreSQL for transactional data with normalized database design
- Integrate Apache Kafka for asynchronous service communication
- Deploy on AWS with Kubernetes container platform

Scalability and Performance:
- Support horizontal pod scaling and cluster autoscaling
- Implement multi-layer caching with Redis and CloudFront CDN
- Achieve <200ms API response times
- Handle geographic load distribution across multiple regions
- Use CloudFront CDN for static asset delivery

Security Implementation:
- Implement OAuth 2.0/JWT authentication and RBAC authorization model
- Use AES-256 encryption for PII data protection
- Apply WAF, API Gateway rate limiting, and OAuth security
- Follow PCI DSS compliance requirements
- Include SIEM monitoring and threat detection measures
```

### Healthcare System Architecture
```
Design a HIPAA-compliant architecture for MedConnect patient management system that serves healthcare providers with enterprise-grade requirements. The system should implement layered architecture pattern and support healthcare domain.

Core Architecture Requirements:
- Implement Angular frontend using Angular Material framework
- Design modular backend services (patient, appointment, billing, EHR, reporting) with Java Spring Boot
- Use encrypted PostgreSQL for PHI data with audit logging
- Integrate HL7 FHIR messaging for healthcare interoperability
- Deploy on Azure with container orchestration

Security Implementation:
- Implement multi-factor authentication and attribute-based authorization
- Use end-to-end encryption for all PHI data protection
- Apply network segmentation, API security scanning, and access controls
- Follow HIPAA, HITECH compliance frameworks
- Include comprehensive audit logging and compliance monitoring
```

## Best Practices

1. **Start with business requirements and quality attributes**
2. **Consider scalability from day one, not as an afterthought**
3. **Design for failure - implement circuit breakers and fallbacks**
4. **Prioritize security throughout all architectural layers**
5. **Document architectural decisions and trade-offs**
6. **Plan for monitoring and observability early**
7. **Design APIs with versioning and backward compatibility**
8. **Consider data consistency patterns for distributed systems**
9. **Plan deployment and rollback strategies upfront**
10. **Include performance budgets and SLA requirements**